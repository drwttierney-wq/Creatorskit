{% extends 'base.html' %}
{% block content %}

<div style="text-align: center; margin: 40px 0;">
    <img src="/uploads/{{ user.profile_pic }}" alt="Profile Pic" style="width:150px; height:150px; border-radius:50%; border:3px solid #c77dff; margin-bottom:20px;" if user.profile_pic else "<div style='width:150px; height:150px; border-radius:50%; background:#c77dff; display: flex; align-items: center; justify-content: center; font-size:60px; font-weight: bold; margin-bottom:20px;'>{{ user.username[0] | upper }}</div>">
    <h1>@{{ user.username }}</h1>
    <p style="color:#aaa; font-size:20px; margin:10px 0;">{{ user.bio or 'No bio yet' }}</p>
    <p style="color:#aaa;">Followers: {{ user.followers.count() }} | Following: {{ user.followed.count() }}</p>
    {% if is_following %}
    <a href="/unfollow/{{ user.username }}" style="background:#555; padding:10px 20px; border-radius:12px; color:white; margin-top:20px;">Unfollow</a>
    {% else %}
    <a href="/follow/{{ user.username }}" style="background: linear-gradient(90deg, #9d4edd, #c77dff); padding:10px 20px; border-radius:12px; color:white; margin-top:20px;">Follow</a>
    {% endif %}
</div>

<h2 style="margin:40px 0 20px;">Posts</h2>

<div class="feed-container">
    {% for post in posts %}
    <div class="post-card">
        <p>{{ post.content }}</p>
        {% if post.image_path %}
        <img src="/uploads/{{ post.image_path }}" alt="Post image" style="width:100%; border-radius:12px; margin:15px 0;">
        {% endif %}
        <p style="color:#999; font-size:14px;">{{ post.timestamp.strftime('%b %d Â· %I:%M %p') }}</p>
    </div>
    {% else %}
    <p style="text-align:center; color:#aaa;">No posts yet</p>
    {% endfor %}
</div>

{% endblock %}
