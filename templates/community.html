{% extends 'base.html' %}
{% block content %}

<h1 class="page-title">Community Feed</h1>
<p class="subtitle">Share creations, get feedback & connect</p>

<div class="feed-container">
    {% for post in posts %}
    <div class="post-card">
        <div class="post-header">
            <div class="avatar">{{ post.author.username[0]|upper }}</div>
            <div>
                <h4>@{{ post.author.username }}</h4>
                <span class="timestamp">{{ post.timestamp.strftime('%b %d Â· %I:%M %p') }}</span>
            </div>
        </div>
        <p>{{ post.content }}</p>
        {% if post.image_path %}
        <img src="/uploads/{{ post.image_path }}" alt="Post image" style="width:100%; border-radius:12px; margin:15px 0;">
        {% endif %}
        <div class="post-actions">
            <form action="/like_post/{{ post.id }}" method="POST">
                <button type="submit">â¤ï¸ {{ post.likes }}</button>
            </form>
            <button>ğŸ’¬ 0</button>
            <button>ğŸ”„ Share</button>
        </div>
    </div>
    {% else %}
    <p style="text-align:center; color:#aaa; margin:50px 0;">No posts yet â€” be the first!</p>
    {% endfor %}
</div>

{% endblock %}
