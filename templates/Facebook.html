{% extends "base.html" %}

{% block content %}
<h1 class="text-5xl font-bold mb-10 facebook-accent">
    Facebook Toolkit
</h1>

<div class="space-y-6 max-w-4xl">

    <div class="tool-btn" onclick="useTool('facebook','Post Caption')">
        <h3 class="text-2xl font-semibold">Post Caption</h3>
        <div id="result-facebook-PostCaption" class="result-box"></div>
    </div>

    <div class="tool-btn" onclick="useTool('facebook','Ad Copy')">
        <h3 class="text-2xl font-semibold">Ad Copy</h3>
        <div id="result-facebook-AdCopy" class="result-box"></div>
    </div>

    <div class="tool-btn" onclick="useTool('facebook','Group Post')">
        <h3 class="text-2xl font-semibold">Group Post</h3>
        <div id="result-facebook-GroupPost" class="result-box"></div>
    </div>

    <div class="tool-btn" onclick="useTool('facebook','Event Description')">
        <h3 class="text-2xl font-semibold">Event Description</h3>
        <div id="result-facebook-EventDescription" class="result-box"></div>
    </div>

    <div class="tool-btn" onclick="useTool('facebook','Reels Idea')">
        <h3 class="text-2xl font-semibold">Reels Idea</h3>
        <div id="result-facebook-ReelsIdea" class="result-box"></div>
    </div>

</div>
{% endblock %}

{% block scripts %}
<script>
function useTool(platform, tool) {

    const content = tool + " generated content ðŸ’¡";

    const safeTool = tool.replace(/ /g, "");
    const resultBox = document.getElementById(
        `result-${platform}-${safeTool}`
    );

    if (resultBox) {
        resultBox.innerText = content;
    }

    fetch("/use_tool", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({
            platform: platform,
            tool: tool,
            content: content,
            save: true
        })
    })
    .then(res => res.json())
    .then(data => {
        if (data.status === "success") {
            console.log("Saved");
        }
    });
}
</script>
{% endblock %}
