{% extends 'base.html' %}

{% block content %}
<h1 class="text-5xl font-bold mb-10 monetization-accent">
    Monetization Toolkit ðŸ’°
</h1>

<div class="space-y-5 max-w-4xl">
    {% set tools = [
        "Revenue Strategy Planner",
        "Pricing Calculator",
        "Sponsorship Pitch Script",
        "Product Idea Generator",
        "Upsell & Funnel Builder",
        "Affiliate Program Suggestions",
        "Tax & Finance Tips"
    ] %}
    
    {% for tool in tools %}
    <div class="tool-btn" onclick="useTool('monetization', '{{ tool }}')">
        <h3 class="text-2xl font-semibold">{{ tool }}</h3>
        <div id="result-monetization-{{ tool.replace(' ', '') }}" class="result-box"></div>
    </div>
    {% endfor %}
</div>
{% endblock %}

{% block scripts %}
<script>
function useTool(platform, tool) {
    const content = tool + " generated content ðŸ’¡";
    const safeTool = tool.replace(/ /g, "");
    const resultBox = document.getElementById(`result-${platform}-${safeTool}`);

    if (resultBox) {
        resultBox.innerText = content;
    }

    fetch("/use_tool", {
        method: "POST",
        headers: {"Content-Type":"application/json"},
        body: JSON.stringify({platform, tool, content, save: true})
    })
    .then(res => res.json())
    .then(data => {
        if(data.status === "success") console.log("Saved");
    });
}
</script>
{% endblock %}
